<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="onecore_maintenance_extension.ImageUploadButton">
        <div class="image-upload-button-container text-center">
            <!-- Hidden file input -->
            <input
                t-ref="fileInput"
                type="file"
                accept="image/*"
                class="d-none"
                t-on-change="onFileChange"
            />

            <!-- Show button when no image -->
            <div t-if="!state.previewUrl" class="upload-btn-wrapper">
                <button
                    type="button"
                    t-attf-class="upload-btn-circle {{ buttonClass }}"
                    t-on-click="onButtonClick"
                >
                    <i class="fa fa-camera"/>
                </button>
            </div>

            <!-- Show preview when image uploaded -->
            <div t-else="" class="uploaded-image-preview position-relative d-inline-block">
                <img
                    t-att-src="state.previewUrl"
                    class="img-thumbnail"
                    style="max-height: 120px; cursor: pointer;"
                    t-on-click="onButtonClick"
                    title="Klicka fÃ¶r att byta bild"
                />
                <button
                    type="button"
                    class="btn btn-sm btn-danger position-absolute"
                    style="top: -8px; right: -8px; border-radius: 50%; width: 24px; height: 24px; padding: 0; line-height: 24px;"
                    t-on-click="onClearClick"
                    title="Ta bort bild"
                >
                    <i class="fa fa-times" style="font-size: 12px;"/>
                </button>
            </div>
        </div>
    </t>

</templates>
