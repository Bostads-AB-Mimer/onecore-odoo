<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="onecore_maintenance_extension.ImageViewer">
        <div class="image-viewer-container">
            <!-- Thumbnail (clickable) - only show if there's an image -->
            <t t-if="hasImage">
                <div class="image-thumbnail" t-on-click="openFullscreen">
                    <img
                        t-att-src="imageSrc"
                        t-attf-style="max-height: {{ thumbnailHeight }}px;"
                        alt="Klicka för att förstora"
                        title="Klicka för att förstora"
                    />
                    <div class="image-thumbnail-zoom-icon">
                        <i class="fa fa-search-plus"/>
                    </div>
                </div>
            </t>

            <!-- Placeholder when no image -->
            <t t-else="">
                <div class="image-thumbnail-empty">
                    <i class="fa fa-image"/>
                </div>
            </t>

            <!-- Fullscreen overlay -->
            <t t-if="state.isFullscreen">
                <div class="image-fullscreen-overlay" t-on-click="onOverlayClick">
                    <button
                        type="button"
                        class="image-close-btn"
                        t-on-click="closeFullscreen"
                        title="Stäng (Esc)"
                    >
                        <i class="fa fa-times"/>
                    </button>
                    <div class="image-fullscreen-content">
                        <img
                            t-att-src="imageSrc"
                            t-on-click="onImageClick"
                            alt="Fullskärmbild"
                        />
                    </div>
                </div>
            </t>
        </div>
    </t>

</templates>
